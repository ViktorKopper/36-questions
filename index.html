<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>36 Questions</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="./css/style.css" />
  <link rel="stylesheet" href="./css/end.css" />
</head>
<body>

  <!-- HEARTS BACKGROUND -->
  <div id="hearts-bg"></div>

  <!-- START SCREEN -->
  <div id="start-screen" class="start-screen">
    <h1>36 Questions</h1>
    <p class="subtitle">A game to fall deeper</p>

    <input id="playerAInput" placeholder="Your name" autocomplete="name" />
    <input id="playerBInput" placeholder="Partner's name" autocomplete="off" />

    <button id="startGame" class="btn btn-primary">Start</button>
  </div>

  <!-- GAME SCREEN (2 PANELS) -->
  <div id="game-layout" class="game-layout hidden">

    <!-- LEFT: MAIN GAME -->
    <div class="app">
      <h1>36 Questions</h1>

      <div class="meta">
        <span id="set"></span>

        <div class="progress-wrap">
          <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="36" aria-valuenow="1">
            <div class="progress-fill" id="progressFill"></div>
          </div>
          <div class="progress-label" id="progressLabel">Question 1 / 36</div>
        </div>

        <span id="player"></span>
      </div>

      <div class="card">
        <p id="question"></p>
      </div>

      <div class="answers">
        <label id="myAnswerLabel" class="answer-label">Your answer</label>
        <textarea id="myNote" placeholder="Write your answer..."></textarea>

        <div class="lock-row">
          <button id="lockBtn" class="btn btn-secondary">Lock my answer</button>
          <span id="lockInfo" class="lock-info"></span>
        </div>

        <label id="theirAnswerLabel" class="answer-label">Partner's answer</label>
        <textarea id="theirNote" readonly placeholder="Hidden until both of you lock your answers…"></textarea>
      </div>

      <div class="controls">
        <button id="prev" class="btn btn-secondary">Previous</button>
        <button id="next" class="btn btn-primary">Next</button>
        <button id="finishBtn" class="btn btn-secondary hidden">Conclusion</button>
        <button id="reset" class="btn btn-ghost">Reset</button>
      </div>

      <div class="controls">
        <button id="share" class="btn btn-secondary">Share Session</button>
        <button id="copyLink" class="btn btn-secondary">Copy Link</button>
      </div>

      <div class="controls">
        <input id="importLink" placeholder="Paste partner link here..." />
        <button id="importBtn" class="btn btn-secondary">Import</button>
      </div>

      <p id="shareInfo" class="share-info"></p>
    </div>

    <!-- RIGHT: ANSWERED QUESTIONS -->
    <aside class="answered-panel">
      <div class="answered-head">
        <h2 class="answered-title">Answered questions</h2>
        <div class="answered-legend">
          <span class="dot dot-a"></span> You
          <span class="dot dot-b"></span> Partner
        </div>
      </div>

      <div class="answered-table-wrap">
        <table class="answered-table" id="answeredTable">
          <thead>
            <tr>
              <th>#</th>
              <th>Set</th>
              <th>Question</th>
              <th class="col-small">You</th>
              <th class="col-small">Her</th>
            </tr>
          </thead>
          <tbody id="answeredTbody"></tbody>
        </table>
      </div>
    </aside>

  </div>

  <!-- END / CONCLUSION SCREEN -->
  <div id="end-screen" class="end-screen hidden">
    <div class="end-panel">
      <div class="end-head">
        <div>
          <h1 class="end-title">Conclusion</h1>
          <p class="end-subtitle" id="endSubtitle">Your answers side-by-side.</p>
        </div>

        <div class="end-actions">
          <button id="endBackBtn" class="btn btn-secondary">Back to game</button>
          <button id="exportPdfBtn" class="btn btn-primary">Export PDF</button>
          <button id="endResetBtn" class="btn btn-ghost">Reset</button>
        </div>
      </div>

      <div class="end-stats" id="endStats"></div>

      <div class="end-filters">
        <label class="chip">
          <input type="checkbox" id="onlyBothLocked" checked />
          <span>Only fully revealed (both locked)</span>
        </label>

        <label class="chip">
          <input type="checkbox" id="includeQuestions" checked />
          <span>Include question text</span>
        </label>
      </div>

      <div id="comparisonList" class="comparison-list"></div>

      <p class="end-hint">
        Tip: when saving as PDF, enable “Background graphics” in the print dialog so the hearts show up.
      </p>
    </div>
  </div>

  <!-- Order matters -->
  <script src="./js/questions.js"></script>
  <script src="./js/utils.js"></script>
  <script src="./js/store.js"></script>
  <script src="./js/session.js"></script>
  <script src="./js/hearts.js"></script>

  <script src="./js/pdf-export.js"></script>
  <script src="./js/endgame.js"></script>
  <script src="./js/app.js"></script>
</body>
</html>
